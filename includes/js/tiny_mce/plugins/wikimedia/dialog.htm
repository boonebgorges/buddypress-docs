<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Insert Video</title>
	<script type="text/javascript" src="../../tiny_mce_popup.js"></script>
	<script type="text/javascript">
	tinyMCEPopup.requireLangPack();

var WikiMediaDialog = {
	init : function() {
		var f = document.forms[0];

		// Get the selected contents as text and place it in the input
		f.someval.value = tinyMCEPopup.editor.selection.getContent({format : 'text'});
		f.somearg.value = tinyMCEPopup.getWindowArg('some_custom_arg');
	},

	insert : function() {
		// Insert the contents from the input into the document
		tinyMCEPopup.editor.execCommand('mceInsertContent', false, '[embed]' + document.forms[0].someval.value + '[/embed]');
		tinyMCEPopup.close();
	}
};

tinyMCEPopup.onInit.add(WikiMediaDialog.init, WikiMediaDialog);
	
	</script>
</head>
<body>

<form onsubmit="WikiMediaDialog.insert();return false;" action="#">
	<p>Paste your video link here:</p>
	<p><input id="someval" name="someval" type="text" class="text" style="width:300px;"/></p>

	<div class="mceActionPanel">
		<div style="float: left">
			<input type="button" id="insert" name="insert" value="{#insert}" onclick="WikiMediaDialog.insert();" />
		</div>

		<div style="float: right">
			<input type="button" id="cancel" name="cancel" value="{#cancel}" onclick="tinyMCEPopup.close();" />
		</div>
	</div>
</form>

</body>
</html>
